import{h as O,j as S,e as V,f as ee,a3 as r,o as c,c as h,W as l,P as n,u as x,K as U,a as p,Q as Ge,R as qe,F as I,a6 as F,O as g,S as A,V as $,U as v,T as X,i as te,ax as He,ay as fe,az as ve,as as Ye}from"../js/@vue/@vue.8cde6db5.js";import{c as De}from"../js/vuex/vuex.691bd36e.js";import{a as H}from"../js/js-cookie/js-cookie.431252a9.js";import{l as Y}from"../js/localforage/localforage.e2e1a8bd.js";import{b as ge}from"../js/axios/axios.aa79336e.js";import{E as We,a as Be,b as T,i as Qe}from"../js/element-plus/element-plus.ea1b79bb.js";import{c as Je,a as Xe}from"../js/vue-router/vue-router.b56d7c25.js";import{N as oe}from"../js/nprogress/nprogress.869cf420.js";import{Q as Ze}from"../js/@element-plus/@element-plus.3ec075bc.js";import{e as et}from"../js/echarts/echarts.5b4b2848.js";import"../js/lodash-es/lodash-es.6278a1be.js";import"../js/@vueuse/@vueuse.7a9a1709.js";import"../js/@popperjs/@popperjs.f1fb8f77.js";import"../js/@ctrl/@ctrl.17547d95.js";import"../js/dayjs/dayjs.b256a8a7.js";import"../js/async-validator/async-validator.21881447.js";import"../js/memoize-one/memoize-one.f0fba034.js";import"../js/escape-html/escape-html.d572c0fd.js";import"../js/normalize-wheel-es/normalize-wheel-es.db30398b.js";import"../js/@floating-ui/@floating-ui.d0b58bd7.js";import"../js/tslib/tslib.e35f93b8.js";import"../js/zrender/zrender.fe59a237.js";const tt=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const _ of s)if(_.type==="childList")for(const u of _.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function o(s){const _={};return s.integrity&&(_.integrity=s.integrity),s.referrerpolicy&&(_.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?_.credentials="include":s.crossorigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function a(s){if(s.ep)return;s.ep=!0;const _=o(s);fetch(s.href,_)}};tt();const se="collapse",be="getCollapseState",ye="setCollapseState",D=se+"/"+be,ue=se+"/"+ye,ne="userInfo",Ce="getUserNick",we="setUserNick",xe=ne+"/"+Ce,ot=ne+"/"+we,z="routes",Ee="getRoutesMenus",Se="setRoutesMenus",st=z+"/"+Ee,nt=z+"/"+Se,ke="getRoutesArr",$e="setRoutesArr",Re=z+"/"+ke,lt=z+"/"+$e,M="nav",Te="getNavInfo",Ne="setNavInfo",G=M+"/"+Te,at=M+"/"+Ne,Ie="getIncludes",Oe="setIncludes",le=M+"/"+Ie,Fe=M+"/"+Oe,ct="http://localhost:5500",de={SUCCESS:200,WARNING:201,NO_MORE:205,ERROR:300,NO_LOGIN:301,NO_PERM:302},rt=()=>({collapseState:!1}),_t={[be](t){return t.collapseState}},it={[ye](t,e){t.collapseState=e}};var ut={name:se,namespaced:!0,state:rt,getters:_t,mutations:it},dt=Object.freeze(Object.defineProperty({__proto__:null,default:ut},Symbol.toStringTag,{value:"Module"}));const pt=()=>({navInfo:{},includes:[]}),ht={[Te](t){return t.navInfo},[Ie](t){return t.includes}},mt={[Ne](t,e){t.navInfo=e},[Oe](t,e){t.includes=e}};var ft={name:M,namespaced:!0,state:pt,getters:ht,mutations:mt},vt=Object.freeze(Object.defineProperty({__proto__:null,default:ft},Symbol.toStringTag,{value:"Module"}));const gt=()=>({menus:[],routes:[]}),bt={[Ee](t){return t.menus},[ke](t){return t.routes}},yt={[Se](t,e){t.menus=e},[$e](t,e){t.routes=e}};var Ct={name:z,namespaced:!0,state:gt,getters:bt,mutations:yt},wt=Object.freeze(Object.defineProperty({__proto__:null,default:Ct},Symbol.toStringTag,{value:"Module"}));const xt=()=>({userNick:""}),Et={[Ce](t){return t.userNick}},St={[we](t,e){t.userNick=e}};var kt={name:ne,namespaced:!0,state:xt,getters:Et,mutations:St},$t=Object.freeze(Object.defineProperty({__proto__:null,default:kt},Symbol.toStringTag,{value:"Module"}));let Pe={},pe={"./modules/collapse.js":dt,"./modules/nav.js":vt,"./modules/routes.js":wt,"./modules/userInfo.js":$t};for(let t in pe){let e=pe[t].default;Pe[e.name]=e}const q=De({modules:Pe,state:{history_chats_list:[]}});var R=(t,e)=>{const o=t.__vccOpts||t;for(const[a,s]of e)o[a]=s;return o};const Rt={__name:"vel-menu-header",setup(t){const e=O().appContext.config.globalProperties,o=S(()=>e.$store.getters[D]),a=S(()=>o.value?"60px":"135px"),s=S(()=>o.value?30:44),_=S(()=>o.value?"0px":"10px"),u=S(()=>o.value?"0px":"24px"),f=V(!0);return ee(o,C=>{C?f.value=!1:setTimeout(()=>{f.value=!0},200)}),(C,y)=>{const b=r("ElementPlus"),E=r("el-icon");return c(),h("section",{class:"vel_menu_header",style:U({height:x(a)})},[l(E,{size:x(s),color:"#FFFFFF",style:U({marginBottom:x(_)})},{default:n(()=>[l(b)]),_:1},8,["size","style"]),p("div",{class:"vel_menu_header_txt",style:U({height:x(u)})},[Ge(p("span",null,"ChatRats",512),[[qe,f.value]])],4)],4)}}};var Tt=R(Rt,[["__scopeId","data-v-b068b888"]]);const Nt={__name:"vel-menu",setup(t){const e=O().appContext.config.globalProperties,o=S(()=>e.$store.getters[D]),a=S(()=>o.value?"64px":"220px"),s=S(()=>o.value?"60px":"135px"),_=S(()=>e.$store.getters[st]),u=S(()=>e.$store.getters[G].id),f=C=>e.$router.push(C);return(C,y)=>{const b=r("el-icon"),E=r("el-menu-item"),k=r("el-sub-menu"),N=r("el-menu"),d=r("el-scrollbar");return c(),h("section",{class:"vel_menu",style:U({width:x(a)})},[l(Tt),p("div",{class:"vel_menu_panel",style:U({height:"calc(100vh - "+x(s)+")"})},[l(d,null,{default:n(()=>[l(N,{class:"el_menu_override","default-active":x(u),"default-openeds":["1"],collapse:x(o),"background-color":"#191a23","text-color":"#d9d8d8"},{default:n(()=>[(c(!0),h(I,null,F(x(_),i=>(c(),h(I,{key:i.id},[i.children?(c(),g(k,{key:0,index:i.id},{title:n(()=>[l(b,null,{default:n(()=>[(c(),g(A(i.icon)))]),_:2},1024),p("span",null,$(i.label),1)]),default:n(()=>[(c(!0),h(I,null,F(i.children,m=>(c(),h("div",{key:m.id},[m.children?(c(),g(k,{key:0,index:m.id},{title:n(()=>[l(b,null,{default:n(()=>[(c(),g(A(m.icon)))]),_:2},1024),p("span",null,$(m.label),1)]),default:n(()=>[(c(!0),h(I,null,F(m.children,w=>(c(),g(E,{onClick:j=>f(w.path),index:w.id,key:w.id},{title:n(()=>[v($(w.label),1)]),default:n(()=>[l(b,null,{default:n(()=>[(c(),g(A(w.icon)))]),_:2},1024)]),_:2},1032,["onClick","index"]))),128))]),_:2},1032,["index"])):(c(),g(E,{key:1,onClick:w=>f(m.path),index:m.id},{title:n(()=>[v($(m.label),1)]),default:n(()=>[l(b,null,{default:n(()=>[(c(),g(A(m.icon)))]),_:2},1024)]),_:2},1032,["onClick","index"]))]))),128))]),_:2},1032,["index"])):(c(),g(E,{key:1,onClick:m=>f(i.path),index:i.id},{title:n(()=>[v($(i.label),1)]),default:n(()=>[l(b,null,{default:n(()=>[(c(),g(A(i.icon)))]),_:2},1024)]),_:2},1032,["onClick","index"]))],64))),128))]),_:1},8,["default-active","collapse"])]),_:1})],4)],4)}}};var It=R(Nt,[["__scopeId","data-v-4bbd6eaa"]]);const J={value:!1};var he=()=>{let t=document.documentElement;J.value?document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen(),J.value=!J.value};const Ae=ge.create({timeout:6e4}),Ot=(t,e=0)=>{let o=new URLSearchParams;return o.append("chatText",t),e!==0&&o.append("type",e),Ae.post("/sendChat",o)},Ft=()=>Ae.get("/getProcess");const Pt={components:{ElInput:We},data(){return{textarea:"",now_type:1,sent_type:!0,chat_list:[{text:"\u60A8\u597D~\u6211\u662FChatRat\uFF0C\u60A8\u7684\u667A\u80FDAI\u5C0F\u52A9\u624B\u3002\u6B22\u8FCE\u5411\u6211\u63D0\u95EE\u55B5~",type:"ai"}],loading:""}},methods:{submitChat(){function t(o){return new Promise(a=>setTimeout(a,o))}this.loading=Be.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"});let e=0;this.sent_type===!0&&(this.sent_type=!1,e=this.now_type),Ot(this.textarea,e).then(async o=>{let a=o.data;if(console.log(o.data),this.chat_list.push({text:this.textarea,type:"user"}),this.textarea="",a.status===0)T({message:"\u63D0\u95EE\u5931\u8D25\uFF0C\u670D\u52A1\u5668\u51FA\u73B0\u95EE\u9898\uFF01",type:"error"});else if(a.status===1)this.chat_list.push({text:a.answer,type:"ai"}),T({message:"ChatRats\u5DF2\u56DE\u7B54~",type:"success"});else{let s={};for(;s.status!==1;)await t(3e3),Ft().then(_=>{s=_.data});this.chat_list.push({text:s.answer,type:"ai"}),T({message:"ChatRats\u5DF2\u56DE\u7B54~",type:"success"})}this.loading.close(),this.chat_list.length>=17&&T({message:"\u5F53\u524D\u5BF9\u8BDD\u8F6E\u6570\u5DF2\u8FBE\u4E0A\u9650\uFF0C\u5F00\u59CB\u65B0\u7684\u5BF9\u8BDD\u5427~",type:"warning"})}).catch(function(){T({message:"\u4E0A\u4F20\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u7F51\u8DEF\uFF01",type:"error"})})},save_history_chats(){this.$store.state.history_chats_list.push(this.chat_list),this.sent_type=!0,this.chat_list=[{text:"\u8BA9\u6211\u4EEC\u5F00\u59CB\u65B0\u7684\u5BF9\u8BDD\u5427~",type:"ai"}],T({message:"\u5DF2\u5F00\u542F\u65B0\u7684\u5BF9\u8BDD\uFF0C\u4E4B\u524D\u7684\u5BF9\u8BDD\u8BF7\u67E5\u770B\u5386\u53F2\u5BF9\u8BDD\u6A21\u5757~",type:"success"})},change2PT(){this.now_type=1,this.sent_type=!0,this.chat_list=[{text:"\u60A8\u597D~\u6211\u662FChatRat\uFF0C\u60A8\u7684\u667A\u80FDAI\u5C0F\u52A9\u624B\u3002\u6B22\u8FCE\u5411\u6211\u63D0\u95EE\u55B5~",type:"ai"}],T({message:"\u6210\u529F\u5207\u6362\u4E3APT\u5FAE\u8C03\u7248\u672C~",type:"success"})},change2Chatglm(){this.now_type=2,this.sent_type=!0,this.chat_list=[{text:"\u60A8\u597D~\u6211\u662FChatRat\uFF0C\u60A8\u7684\u667A\u80FDAI\u5C0F\u52A9\u624B\u3002\u6B22\u8FCE\u5411\u6211\u63D0\u95EE\u55B5~",type:"ai"}],T({message:"\u6210\u529F\u5207\u6362\u4E3Achatglm~",type:"success"})},change2QA(){this.now_type=3,this.sent_type=!0,this.chat_list=[{text:"\u60A8\u597D~\u6211\u662FChatRat\uFF0C\u60A8\u7684\u667A\u80FDAI\u5C0F\u52A9\u624B\u3002\u6B22\u8FCE\u5411\u6211\u63D0\u95EE\u55B5~",type:"ai"}],T({message:"\u6210\u529F\u5207\u6362\u4E3A\u829D\u58EB\u95EE\u7B54~",type:"success"})}}},At={class:"page"},Ut={class:"btn-group"},Lt=v("PT\u65B9\u6CD5"),Vt=v("PT\u65B9\u6CD5"),zt=v("chatglm"),Mt=v("chatglm"),jt=v("\u829D\u58EB\u95EE\u7B54"),Kt=v("\u829D\u58EB\u95EE\u7B54"),Gt={key:0,class:"scrollbar-ai-item"},qt={key:1,class:"scrollbar-user-item"},Ht={key:0},Yt=v(" \u53D1\u9001 "),Dt=v(" \u65B0\u7684\u5BF9\u8BDD ");function Wt(t,e,o,a,s,_){const u=r("el-button"),f=r("el-scrollbar"),C=r("el-input"),y=r("el-card");return c(),h("div",At,[p("div",Ut,[s.now_type===1?(c(),g(u,{key:0,type:"success",round:""},{default:n(()=>[Lt]),_:1})):(c(),g(u,{key:1,type:"info",round:"",onClick:_.change2PT},{default:n(()=>[Vt]),_:1},8,["onClick"])),s.now_type===2?(c(),g(u,{key:2,type:"success",round:""},{default:n(()=>[zt]),_:1})):(c(),g(u,{key:3,type:"info",round:"",onClick:_.change2Chatglm},{default:n(()=>[Mt]),_:1},8,["onClick"])),s.now_type===3?(c(),g(u,{key:4,type:"success",round:""},{default:n(()=>[jt]),_:1})):(c(),g(u,{key:5,type:"info",round:"",onClick:_.change2QA},{default:n(()=>[Kt]),_:1},8,["onClick"]))]),l(y,{shadow:"never",class:"vel_card_override"},{default:n(()=>[l(f,{height:"450px"},{default:n(()=>[(c(!0),h(I,null,F(s.chat_list.length,b=>(c(),h("div",{key:b},[s.chat_list[b-1].type==="ai"?(c(),h("div",Gt,$(s.chat_list[b-1].text),1)):(c(),h("div",qt,$(s.chat_list[b-1].text),1))]))),128))]),_:1}),l(C,{modelValue:s.textarea,"onUpdate:modelValue":e[0]||(e[0]=b=>s.textarea=b),maxlength:"500",placeholder:"\u804A\u70B9\u4EC0\u4E48\u5427~","show-word-limit":"",type:"textarea",style:{"margin-top":"40px"},"input-style":{fontFamily:"Microsoft YaHei",fontSize:"15px"}},null,8,["modelValue"]),s.textarea.length>0&&s.chat_list.length<17?(c(),h("div",Ht,[l(u,{type:"success",onClick:_.submitChat,style:{width:"100px",margin:"10px 46%"}},{default:n(()=>[Yt]),_:1},8,["onClick"])])):X("",!0),s.chat_list.length>=17?(c(),g(u,{key:1,type:"info",onClick:_.save_history_chats,style:{width:"100px",margin:"10px 46%"}},{default:n(()=>[Dt]),_:1},8,["onClick"])):X("",!0)]),_:1})])}var Bt=R(Pt,[["render",Wt],["__scopeId","data-v-61fd39bd"]]),Qt=Object.freeze(Object.defineProperty({__proto__:null,default:Bt},Symbol.toStringTag,{value:"Module"}));const Jt={data(){return{history_chats_list:this.$store.state.history_chats_list,now_page:1,show_chat:!1,chat_list:[]}},methods:{toShowChat(t){this.chat_list=this.history_chats_list[t],this.show_chat=!0},toShowChatList(){this.chat_list=[],this.show_chat=!1}}},Xt={class:"page"},Zt={key:0},eo={key:0},to={key:0,class:"scrollbar-ai-item"},oo={key:1,class:"scrollbar-user-item"},so=v(" \u8FD4\u56DE "),no={key:1},lo={class:"history_chats_table"},ao={id:"changePages"},co=v("\u4E0A\u4E00\u9875 "),ro=v("\u4E0A\u4E00\u9875"),_o=v("\u4E0B\u4E00\u9875 "),io=v("\u4E0B\u4E00\u9875"),uo={key:1};function po(t,e,o,a,s,_){const u=r("el-scrollbar"),f=r("el-button"),C=r("el-card");return c(),h("div",Xt,[l(C,{shadow:"never",class:"vel_card_override"},{default:n(()=>[s.history_chats_list.length>0?(c(),h("div",Zt,[s.show_chat?(c(),h("div",eo,[l(u,{height:"500px"},{default:n(()=>[(c(!0),h(I,null,F(s.chat_list.length,y=>(c(),h("div",{key:y},[s.chat_list[y-1].type==="ai"?(c(),h("div",to,$(s.chat_list[y-1].text),1)):(c(),h("div",oo,$(s.chat_list[y-1].text),1))]))),128))]),_:1}),l(f,{type:"info",onClick:_.toShowChatList,style:{width:"100px",margin:"20px 46%"}},{default:n(()=>[so]),_:1},8,["onClick"])])):(c(),h("div",no,[p("div",lo,[(c(!0),h(I,null,F(Math.min(8,s.history_chats_list.length-(s.now_page-1)*8),y=>(c(),h("div",{key:y,class:"chatItem"},[l(f,{type:"warning",onClick:b=>_.toShowChat((s.now_page-1)*5+y-1)},{default:n(()=>[v($(s.history_chats_list[(s.now_page-1)*8+y-1][1].text),1)]),_:2},1032,["onClick"])]))),128))]),p("div",ao,[s.now_page!==1?(c(),g(f,{key:0,type:"success",onClick:e[0]||(e[0]=y=>s.now_page--)},{default:n(()=>[co]),_:1})):(c(),g(f,{key:1,type:"info",disabled:""},{default:n(()=>[ro]),_:1})),s.now_page*8<s.history_chats_list.length?(c(),g(f,{key:2,type:"success",onClick:e[1]||(e[1]=y=>s.now_page++)},{default:n(()=>[_o]),_:1})):(c(),g(f,{key:3,type:"info",disabled:""},{default:n(()=>[io]),_:1}))])]))])):(c(),h("h3",uo," \u8BF7\u5148\u5B8C\u6210\u4E00\u6B21\u5BF9\u8BDD..."))]),_:1})])}var ho=R(Jt,[["render",po],["__scopeId","data-v-4cbc098a"]]),mo=Object.freeze(Object.defineProperty({__proto__:null,default:ho},Symbol.toStringTag,{value:"Module"}));const fo=()=>ct;var vo={baseUrl:fo};const ae=ge.create({baseURL:vo.baseUrl(),timeout:10*1e3});ae.interceptors.request.use(t=>(t.url.indexOf("/static/res/login.json")===-1&&(Ue()||re()),t),t=>Promise.reject(t));ae.interceptors.response.use(t=>{let e=t.data;return e.statusCode===de.NO_LOGIN?re():e.statusCode===de.NO_PERM&&T.error("\u6CA1\u6709\u6743\u9650\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\uFF01"),t},t=>Promise.reject(t));const go={statusCode:200,message:"\u6570\u636E\u52A0\u8F7D\u6210\u529F",data:{menus:[{id:"1",label:"\u5F00\u59CB\u5BF9\u8BDD",icon:"ChatDotRound",path:"/chats",component:"/page-chats"},{id:"2",label:"\u5386\u53F2\u5BF9\u8BDD",icon:"Tickets",path:"/result",component:"/page-result"}],pages:[]}},ce={value:!1},bo=async()=>{let t=await Y.setItem("routes",go.data);console.log(t),Co(t),ce.value=!0},yo=t=>q.getters[Re].find(o=>o.path===t.path);let Co=t=>{let e=[];Z(e,t.menus),Z(e,t.pages),e.push({label:"404",path:"/404",breadcrumb:["404\u9875\u9762"]},{label:"Welcome",path:"/welcome",breadcrumb:["\u6B22\u8FCE"]}),q.commit(lt,e),q.commit(nt,t.menus),wo(e)},Z=(t,e,o)=>{for(let a=0;a<e.length;a++)e[a].children&&e[a].children.length>0?(o?e[a].breadcrumb=[].concat(o):e[a].breadcrumb=[],e[a].breadcrumb.push(e[a].label),Z(t,e[a].children,e[a].breadcrumb)):e[a].path&&(o?e[a].breadcrumb=[].concat(o):e[a].breadcrumb=[],e[a].breadcrumb.push(e[a].label),t.push(e[a]))},wo=t=>{const e={"../../components/views/page-chats.vue":Qt,"../../components/views/page-result.vue":mo};for(let o=0;o<t.length;o++){let a=t[o];a.path==="/404"||a.path==="/welcome"||ie.addRoute("gen",{path:a.path,component:e[`../../components/views${a.component}.vue`].default})}};const xo=async t=>{H.set("token",t.token,{expires:1}),await Y.setItem("userInfo",t)},Ue=()=>H.get("token"),re=()=>{H.remove("token"),Y.clear(),ce.value=!1,ie.push("/login")};const Eo={class:"vel_container_header_menu"},So={class:"vel_container_header_menu_left"},ko={class:"vel_header_item vel_container_header_menu_left_breadcrumb"},$o={class:"vel_container_header_menu_right"},Ro={class:"vel_header_item vel_container_header_menu_right_nick"},To=v(" \u9000\u51FA "),No={__name:"vel-container-header-menu",setup(t){const e=O().appContext.config.globalProperties;te(()=>{e.$local.getItem("userInfo").then(u=>{e.$store.commit(ot,u.userNick)})});const o=S(()=>e.$store.getters[G].breadcrumb),a=S(()=>e.$store.getters[xe]),s=S(()=>e.$store.getters[D]),_=()=>{s.value?e.$store.commit(ue,!1):e.$store.commit(ue,!0)};return(u,f)=>{const C=r("el-icon"),y=r("el-breadcrumb-item"),b=r("el-breadcrumb"),E=r("ElementPlus"),k=r("el-avatar"),N=r("el-badge"),d=r("SwitchButton"),i=r("el-dropdown-item"),m=r("el-dropdown-menu"),w=r("el-dropdown"),j=r("FullScreen");return c(),h("section",Eo,[p("div",So,[p("div",{onClick:_,class:"vel_header_item vel_container_header_menu_left_collapse"},[l(C,{size:18},{default:n(()=>[(c(),g(A(x(s)?"Expand":"Fold")))]),_:1})]),p("div",ko,[l(b,{separator:"/"},{default:n(()=>[(c(!0),h(I,null,F(x(o),(L,Q)=>(c(),g(y,{key:Q},{default:n(()=>[v($(L),1)]),_:2},1024))),128))]),_:1})])]),p("div",$o,[p("div",Ro,[l(w,{class:"el_dropdown_override"},{dropdown:n(()=>[l(m,{class:"el_dropdown_menu_override"},{default:n(()=>[l(i,{onClick:x(re),divided:""},{default:n(()=>[l(C,{size:18},{default:n(()=>[l(d)]),_:1}),To]),_:1},8,["onClick"])]),_:1})]),default:n(()=>[p("span",null,[l(N,{class:"el_badge_override","is-dot":""},{default:n(()=>[l(k,{class:"el_avatar_override",size:30},{default:n(()=>[l(C,{size:24},{default:n(()=>[l(E)]),_:1})]),_:1})]),_:1}),p("span",null,$(x(a)),1)])]),_:1})]),p("div",{onClick:f[0]||(f[0]=(...L)=>x(he)&&x(he)(...L)),class:"vel_header_item vel_container_header_menu_right_fullscreen"},[l(C,{size:18},{default:n(()=>[l(j)]),_:1})])])])}}};var Io=R(No,[["__scopeId","data-v-65ff722f"]]);const Oo={class:"vel_container_header_navbar"},Fo={class:"vel_navbar_panel"},Po={class:"vel_navbar_operation"},Ao=v(" \u5173\u95ED\u5176\u4ED6 "),Uo=v(" \u5173\u95ED\u5DE6\u8FB9 "),Lo=v(" \u5173\u95ED\u53F3\u8FB9 "),Vo=v(" \u5173\u95ED\u5168\u90E8 "),zo={__name:"vel-container-header-navbar",setup(t){const e=O().appContext.config.globalProperties,o=V([]),a=V("");te(()=>{let d=e.$store.getters[G];s(d)}),ee(()=>e.$store.getters[G],d=>{s(d)});const s=d=>{if(Object.keys(d).length==0)return;let i=d.path,m=o.value.find(w=>w.path===i);m?a.value=m.path:(o.value.push({label:d.label,path:d.path,closable:d.path!=="/welcome"}),a.value=d.path)},_=d=>{e.$router.push(d.props.name)},u=d=>{a.value===d&&o.value.forEach((i,m)=>{if(i.path===d){let w=o.value[m+1]||o.value[m-1];w&&e.$router.push(w.path)}}),E(d),o.value.length===0&&e.$router.push("/welcome")};let f=()=>{let d=[];o.value.forEach(i=>{i.path!==a.value&&d.push(i.path)}),d.forEach(i=>{E(i)})},C=()=>{let d=[];for(let i=0;i<o.value.length;i++){let m=o.value[i].path;if(m!==a.value)d.push(m);else break}d.forEach(i=>{E(i)})},y=()=>{let d=[];for(let i=o.value.length-1;i>=0;i--){let m=o.value[i].path;if(m!==a.value)d.push(m);else break}d.forEach(i=>{E(i)})},b=()=>{let d=[];for(let i=0;i<o.value.length;i++){let m=o.value[i].path;d.push(m)}d.forEach(i=>{E(i)})},E=d=>{o.value=o.value.filter(m=>m.path!==d);let i=e.$store.getters[le];i=i.filter(m=>m.path!==d),e.$store.commit(Fe,i)};const k=new Map;k.set("closeOther",f),k.set("closeLeft",C),k.set("closeRight",y),k.set("closeAll",b);const N=d=>{k.get(d)(),o.value.length===0&&e.$router.push("/welcome")};return(d,i)=>{const m=r("HomeFilled"),w=r("el-icon"),j=r("el-tab-pane"),L=r("el-tabs"),Q=r("ArrowDown"),Le=r("Close"),K=r("el-dropdown-item"),Ve=r("ArrowLeft"),ze=r("ArrowRight"),Me=r("CircleClose"),je=r("el-dropdown-menu"),Ke=r("el-dropdown");return c(),h("section",Oo,[p("div",Fo,[l(L,{modelValue:a.value,"onUpdate:modelValue":i[0]||(i[0]=P=>a.value=P),onTabClick:_,onTabRemove:u,class:"vel_el_tabs_override"},{default:n(()=>[(c(!0),h(I,null,F(o.value,P=>(c(),g(j,{name:P.path,closable:P.closable,key:P.path},{label:n(()=>[P.path=="/welcome"?(c(),g(w,{key:0,class:"vel_el_icon_home",size:16},{default:n(()=>[l(m)]),_:1})):X("",!0),p("span",null,$(P.label),1)]),_:2},1032,["name","closable"]))),128))]),_:1},8,["modelValue"])]),p("div",Po,[l(Ke,{onCommand:N},{dropdown:n(()=>[l(je,null,{default:n(()=>[l(K,{command:"closeOther"},{default:n(()=>[l(w,null,{default:n(()=>[l(Le)]),_:1}),Ao]),_:1}),l(K,{command:"closeLeft"},{default:n(()=>[l(w,null,{default:n(()=>[l(Ve)]),_:1}),Uo]),_:1}),l(K,{command:"closeRight"},{default:n(()=>[l(w,null,{default:n(()=>[l(ze)]),_:1}),Lo]),_:1}),l(K,{command:"closeAll"},{default:n(()=>[l(w,null,{default:n(()=>[l(Me)]),_:1}),Vo]),_:1})]),_:1})]),default:n(()=>[p("span",null,[l(w,{class:"vel_navbar_operation_icon"},{default:n(()=>[l(Q)]),_:1})])]),_:1})])])}}};var Mo=R(zo,[["__scopeId","data-v-52be8a71"]]);const jo={class:"vel_container_header"},Ko={__name:"vel-container-header",setup(t){return(e,o)=>(c(),h("section",jo,[l(Io),l(Mo)]))}};var Go=R(Ko,[["__scopeId","data-v-a444f72c"]]);const qo={class:"vel_container_page"},Ho={__name:"vel-container-page",setup(t){const e=O().appContext.config.globalProperties,o=S(()=>{let a=e.$store.getters[le],s=[];return a.forEach(_=>{s.push(_.cptName)}),s});return(a,s)=>{const _=r("router-view"),u=r("el-scrollbar");return c(),h("section",qo,[l(u,null,{default:n(()=>[l(_,null,{default:n(({Component:f})=>[(c(),g(He,{include:x(o)},[(c(),g(A(f)))],1032,["include"]))]),_:1})]),_:1})])}}};var Yo=R(Ho,[["__scopeId","data-v-1ec5663e"]]);const Do={__name:"vel-container",setup(t){const e=O().appContext.config.globalProperties,o=S(()=>e.$store.getters[D]),a=S(()=>o.value?"64px":"220px");return(s,_)=>(c(),h("section",{class:"vel_container",style:U({paddingLeft:x(a)})},[l(Go),l(Yo)],4))}};var Wo=R(Do,[["__scopeId","data-v-731345f2"]]);const Bo={class:"vel_frame_main"},Qo={__name:"vel-frame-main",setup(t){const e=O().appContext.config.globalProperties;te(()=>{o(e.$route.path)}),ee(()=>e.$route.path,s=>{s!=="/login"&&o(s)});const o=s=>{let u=e.$store.getters[Re].find(f=>f.path===s);e.$store.commit(at,u),a()},a=()=>{let s=e.$route.matched,_=s[s.length-1],u=_.components.default.__name,f=e.$store.getters[le];f.find(C=>C.cptName===u)||(f.push({path:_.path,cptName:u}),e.$store.commit(Fe,f))};return(s,_)=>(c(),h("section",Bo,[l(It),l(Wo)]))}};var Jo=R(Qo,[["__scopeId","data-v-4b778346"]]);const Xo={class:"vel_login"},Zo=v(" ChatRats "),es=v(" \u767B\u5F55 "),ts={__name:"vel-frame-login",setup(t){const e=O().appContext.config.globalProperties,o=V({userName:"heyixiao",passWord:"114514"}),a=V(!1),s=async()=>{a.value=!0,console.log("\u51C6\u5907\u8BF7\u6C42login.json");let _={statusCode:200,message:"\u767B\u9646\u6210\u529F",data:{userName:"heyixiao",token:"qwertyuiopasdfghjklzxcvbnm",userNick:"hyx"}};console.log(`flask\u8FD4\u56DE\u7684res\uFF1A
`,_),await xo(_.data),await new Promise(u=>{setTimeout(()=>{u()},100)}),a.value=!1,console.log("\u5E94\u8BE5\u6210\u529F\u5173\u95EDLoading"),e.$router.push("/")};return(_,u)=>{const f=r("ElementPlus"),C=r("el-icon"),y=r("el-input"),b=r("el-form-item"),E=r("el-button"),k=r("el-form");return c(),h("section",Xo,[l(k,{model:o.value,class:"el_form_override"},{default:n(()=>[p("h3",null,[l(C,{size:36,color:"#409EFF"},{default:n(()=>[l(f)]),_:1}),Zo]),l(b,null,{default:n(()=>[l(y,{modelValue:o.value.userName,"onUpdate:modelValue":u[0]||(u[0]=N=>o.value.userName=N),placeholder:"\u767B\u5F55\u7528\u6237\u540D",size:"large","prefix-icon":"UserFilled",clearable:""},null,8,["modelValue"])]),_:1}),l(b,null,{default:n(()=>[l(y,{modelValue:o.value.passWord,"onUpdate:modelValue":u[1]||(u[1]=N=>o.value.passWord=N),placeholder:"\u767B\u5F55\u5BC6\u7801",type:"password",size:"large","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),l(b,null,{default:n(()=>[l(E,{type:"primary",loading:a.value,onClick:s,size:"large",style:{width:"100%"}},{default:n(()=>[es]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])}}};var os=R(ts,[["__scopeId","data-v-0d700fbc"]]);const W=t=>(fe("data-v-357f2f5b"),t=t(),ve(),t),ss={class:"welcome_panel"},ns={class:"introduce_avatar"},ls={class:"introduce_desc"},as={class:"tit"},cs=v(" \u8FD9\u662F"),rs=v("\u8BBE\u8BA1\u7684\u4EBA\u673A\u5BF9\u8BDD\u5E73\u53F0\u3002"),_s=W(()=>p("br",null,null,-1)),is=v(" \u524D\u7AEF\u4F7F\u7528VUE\u6846\u67B6\uFF0C\u540E\u7AEF\u4F7F\u7528flask\u6846\u67B6\u3002"),us=W(()=>p("br",null,null,-1)),ds=v("\u70B9\u51FB\u5DE6\u4FA7\u7684\u6309\u94AE\u6765\u4F7F\u7528\u5427~"),ps=W(()=>p("br",null,null,-1)),hs=v("\uFF08\u5176\u5B9E\u590D\u7528\u4E86\u4E4B\u524D\u7684\u9879\u76EE\uFF09 "),ms=W(()=>p("br",null,null,-1)),fs={__name:"vel-frame-welcome",setup(t){const e=O().appContext.config.globalProperties,o="https://github.com/ThreeRats",a="https://github.com/ThreeRats/ChatRats-Web",s="https://github.com/ThreeRats/ChatRats",_="/static/imgs/jimeng.webp",u=S(()=>e.$store.getters[xe]);return(f,C)=>{const y=r("el-avatar"),b=r("el-card"),E=r("el-col"),k=r("el-row");return c(),h("div",ss,[l(k,null,{default:n(()=>[l(E,{span:24},{default:n(()=>[l(b,{shadow:"never",class:"vel_el_card_override vel_el_card_introduce"},{default:n(()=>[p("div",ns,[l(y,{size:400,src:_})]),p("div",ls,[p("p",as,"\u4F60\u597D\uFF0C"+$(x(u))+"\u3002\u6B22\u8FCE\u4F7F\u7528ChatRats\u4EBA\u673A\u5BF9\u8BDD\u5E73\u53F0~",1),p("p",{class:"tips"},[cs,p("a",{href:o,target:"_blank"},"\u6211\u4EEC\u56E2\u961F"),rs,_s,is,us,ds,ps,p("a",{href:a,target:"_blank"},"\u524D\u7AEF\u4ED3\u5E93"),hs,ms,p("a",{href:s,target:"_blank"},"\u540E\u7AEF\u4ED3\u5E93")])])]),_:1})]),_:1})]),_:1})])}}};var vs=R(fs,[["__scopeId","data-v-357f2f5b"]]);const gs=t=>(fe("data-v-c45a861a"),t=t(),ve(),t),bs={class:"notfound_panel"},ys={class:"notfound_panel_left"},Cs=gs(()=>p("div",{class:"notfound_panel_right"},[p("h2",null,"404 NotFound"),p("p",null,"1. \u8BF7\u786E\u5B9A\u6D4F\u89C8\u5668\u5730\u5740\u680FURL\u662F\u5426\u6B63\u786E"),p("p",null,"2. \u8054\u7CFB\u7BA1\u7406\u5458\uFF0C\u786E\u5B9A\u662F\u5426\u62E5\u6709\u8BE5URL\u7684\u8BBF\u95EE\u6743\u9650")],-1)),ws={__name:"vel-frame-notfound",setup(t){return(e,o)=>{const a=r("el-empty"),s=r("el-card");return c(),h("div",bs,[l(s,{shadow:"never",class:"vel_card_override"},{default:n(()=>[p("div",ys,[l(a,{description:" "})]),Cs]),_:1})])}}};var me=R(ws,[["__scopeId","data-v-c45a861a"]]);const xs=[{name:"gen",path:"/",component:Jo,redirect:"/welcome",children:[{path:"/welcome",component:vs},{path:"/404",component:me}]},{path:"/login",component:os},{path:"/:pathMatch(.*)*",component:me}],_e=Je({history:Xe(),routes:xs});_e.beforeEach(async(t,e)=>{oe.start();let o=Ue();if(!o&&t.path!=="/login")return"/login";if(o&&t.path==="/login")return"/";if(o){if(!ce.value)return await bo(),t.fullPath;if(!yo(t))return"/404"}});_e.afterEach(()=>{oe.done()});var ie=_e;const Es={};function Ss(t,e){const o=r("router-view");return c(),g(o)}var ks=R(Es,[["render",Ss]]);const $s=t=>{t.use(Qe,{size:"medium",zIndex:3e3});for(const[e,o]of Object.entries(Ze))t.component(e,o);t.config.globalProperties.$local=Y,t.config.globalProperties.$http=ae,t.config.globalProperties.$cookie=H,t.config.globalProperties.$echarts=et,oe.configure({showSpinner:!1,speed:600})},B=Ye(ks);B.use($s);B.use(q);B.use(ie);B.mount("#app");
